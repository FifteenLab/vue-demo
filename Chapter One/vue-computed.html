<!DOCTYPE html>
<html>
    <header>
        <title>Vue 计算属性演示</title>
    </header>
    
    <body>
        <div id="app">
            <p>数字的总和是：{{ numberTotal }}</p>
            <p>数字的总和是：{{ numberTotal }}</p>
            <p>数值：{{ doubleVlue }}</p>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <script>
            const vm = new Vue({
                el: "#app",
                data: {
                    numbers: [5, 8, 3],
                    value: 10
                },
                computed: {
                    numberTotal: {
                        get() {
                            console.log("get number total");
                            return this.numbers.reduce((sum, val) => sum + val);
                        },
                        set(val) {
                            const oldVlue = this.numberTotal;
                            const difference = val - oldVlue;
                            this.numbers.push(difference);
                        }
                    },
                    doubleVlue() {
                        console.log("doubleVlue computed property changed!");
                        return this.value * 2;
                    }
                }
            });
        </script>
    </body>
</html>